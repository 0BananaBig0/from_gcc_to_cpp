<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Gcc - from_gcc_to_cpp</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">from_gcc_to_cpp</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../FromGccToCPP/" class="nav-link">Home</a>
                            </li>
                            <li class="navitem active">
                                <a href="./" class="nav-link">Gcc</a>
                            </li>
                            <li class="navitem">
                                <a href="../makeAndMakefiles/" class="nav-link">make and Makefiles</a>
                            </li>
                            <li class="navitem">
                                <a href="../Git/" class="nav-link">Git</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">CPP <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../CPPPerface/" class="dropdown-item">CPP Perface</a>
</li>
                                    
<li>
    <a href="../MemoryPartitions/" class="dropdown-item">Memory Partitions</a>
</li>
                                    
<li>
    <a href="../AutoAndDecltype/" class="dropdown-item">auto and decltype</a>
</li>
                                    
<li>
    <a href="../UsingTypedefNameSpaces/" class="dropdown-item">using, typedef and Namespaces</a>
</li>
                                    
<li>
    <a href="../ConstConstexprAndStatic/" class="dropdown-item">const, constexpr and static</a>
</li>
                                    
<li>
    <a href="../Volatile/" class="dropdown-item">volatile</a>
</li>
                                    
<li>
    <a href="../MacrosAndPragma/" class="dropdown-item">Macros and Related Keywords ( Including pragma</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Functions, Classes, Operators And Templates <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Functions/" class="dropdown-item">Functions</a>
</li>
                                    
<li>
    <a href="../Classes/" class="dropdown-item">Classes</a>
</li>
                                    
<li>
    <a href="../HidingOverloadingOverridingAndOverwriting/" class="dropdown-item">Differences Between Hiding, Overloading, Overriding, and Overwriting</a>
</li>
                                    
<li>
    <a href="../Structures/" class="dropdown-item">Structures</a>
</li>
                                    
<li>
    <a href="../Operators/" class="dropdown-item">Operators</a>
</li>
                                    
<li>
    <a href="../NewAndDelete/" class="dropdown-item">new and delete</a>
</li>
                                    
<li>
    <a href="../Templates/" class="dropdown-item">Templates</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Data Structures and Algorithms <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../IntroductionToTheCPPSTL/" class="dropdown-item">Introduction to C++ STL</a>
</li>
                                    
<li>
    <a href="../ConversionAndCasting/" class="dropdown-item">Conversion And Casting</a>
</li>
                                    
<li>
    <a href="../Bindings/" class="dropdown-item">Bindings</a>
</li>
                                    
<li>
    <a href="../Arrays/" class="dropdown-item">Arrays</a>
</li>
                                    
<li>
    <a href="../DynamicArraysOrStdVector/" class="dropdown-item">Dynamic Arrays (std::vector</a>
</li>
                                    
<li>
    <a href="../ListsAndForwardLists/" class="dropdown-item">Lists and Forward Lists</a>
</li>
                                    
<li>
    <a href="../SetsUnorderedSetsAndFlatSets/" class="dropdown-item">Sets Unordered Sets and Flat Sets</a>
</li>
                                    
<li>
    <a href="../MapsUnorderedMapsAndFlatMaps/" class="dropdown-item">Maps Unordered Maps and Flat Maps</a>
</li>
                                    
<li>
    <a href="../StacksAndQueues/" class="dropdown-item">Stacks and Queues</a>
</li>
                                    
<li>
    <a href="../Enums/" class="dropdown-item">enum</a>
</li>
                                    
<li>
    <a href="../UnionStdAnyStdVariantStdOptional/" class="dropdown-item">union, std:any std::variant and std::optional</a>
</li>
                                    
<li>
    <a href="../CharsAndStrings/" class="dropdown-item">Chars and Strings</a>
</li>
                                    
<li>
    <a href="../PairsAndTuples/" class="dropdown-item">Pairs and Tuples</a>
</li>
                                    
<li>
    <a href="../SmartPointers/" class="dropdown-item">Smart Pointers</a>
</li>
                                    
<li>
    <a href="../Algorithms/" class="dropdown-item">Algorithms</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Others <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Timers/" class="dropdown-item">Timers</a>
</li>
                                    
<li>
    <a href="../Threads/" class="dropdown-item">Threads</a>
</li>
                                    
<li>
    <a href="../StaticAssert/" class="dropdown-item">static_assert</a>
</li>
                                    
<li>
    <a href="../Extern/" class="dropdown-item">Extern</a>
</li>
                                    
<li>
    <a href="../SomeCFunctionsAndOperators/" class="dropdown-item">Some C Functions and Operators</a>
</li>
                                    
<li>
    <a href="../SomeProgrammingTechniques/" class="dropdown-item">Some Programming Techniques</a>
</li>
                                    
<li>
    <a href="../Handles/" class="dropdown-item">Handles</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../FromGccToCPP/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../makeAndMakefiles/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-light">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="2"><a href="#g-compiler-and-linker" class="nav-link">g++ Compiler and Linker</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#differences-between-gcc-and-g" class="nav-link">Differences Between gcc and g++</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#how-to-compile-one-cpp-file" class="nav-link">How to Compile One CPP File</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#how-to-compile-multiple-cpp-files" class="nav-link">How to Compile Multiple CPP Files</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-level="2"><a href="#how-to-compile-and-link-a-library" class="nav-link">How to Compile and Link a Library</a>
              <ul class="nav flex-column">
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<!-- vim-markdown-toc GFM -->

<ul>
<li><a href="#g-compiler-and-linker"><code>g++</code> Compiler and Linker</a></li>
<li><a href="#header-file--preprocess-statement-">Header File ( Preprocess Statement )</a></li>
<li><a href="#cpp-file">CPP File</a></li>
<li><a href="#obj-file--machine-code-file-obj-in-windows-o-in-linux-">OBJ File ( Machine Code File, <code>.obj</code> in Windows, <code>.o</code> in Linux )</a></li>
<li><a href="#linking--static-linking-and-dynamic-linking-">Linking ( Static Linking and Dynamic Linking )</a><ul>
<li><a href="#libraries">Libraries</a></li>
<li><a href="#static-linking">Static Linking</a></li>
<li><a href="#explanation">Explanation</a></li>
<li><a href="#characteristics">Characteristics</a></li>
<li><a href="#how-it-works">How It Works</a></li>
<li><a href="#dynamic-linking--implicit-linking-and-explicit-linking-">Dynamic Linking ( Implicit Linking and Explicit Linking )</a></li>
<li><a href="#explanation-1">Explanation</a></li>
<li><a href="#characteristics-1">Characteristics</a></li>
<li><a href="#implicit-linking--load-time-dynamic-linking---default-dynamic-linking-">Implicit Linking ( Load-time Dynamic Linking ) ( Default Dynamic Linking )</a><ul>
<li><a href="#explanation-2">Explanation</a></li>
<li><a href="#characteristics-2">Characteristics</a></li>
<li><a href="#how-it-works-in-windows">How It Works in <strong>Windows</strong></a></li>
<li><a href="#how-it-works-in-linux">How It Works in <strong>Linux</strong></a></li>
</ul>
</li>
<li><a href="#explicit-linking--run-time-dynamic-linking-">Explicit Linking ( Run-time Dynamic Linking )</a><ul>
<li><a href="#explanation-3">Explanation</a></li>
<li><a href="#characteristics-3">Characteristics</a></li>
<li><a href="#how-it-works-in-windows-1">How It Works in <strong>Windows</strong></a></li>
<li><a href="#how-it-works-in-linux-1">How It Works in <strong>Linux</strong></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#differences-between-gcc-and-g">Differences Between <code>gcc</code> and <code>g++</code></a></li>
<li><a href="#language">Language</a><ul>
<li><a href="#1-gcc">1. <code>gcc</code></a></li>
<li><a href="#2-g">2. <code>g++</code></a></li>
</ul>
</li>
<li><a href="#linking">Linking</a><ul>
<li><a href="#1-gcc-1">1. <code>gcc</code></a></li>
<li><a href="#2-g-1">2. <code>g++</code></a></li>
</ul>
</li>
<li><a href="#header-file-handling">Header File Handling</a><ul>
<li><a href="#1-gcc-2">1. <code>gcc</code></a></li>
<li><a href="#2-g-2">2. <code>g++</code></a></li>
</ul>
</li>
<li><a href="#how-to-compile-one-cpp-file">How to Compile One CPP File</a></li>
<li><a href="#source-files">Source files</a></li>
<li><a href="#g-maincpp"><code>g++ Main.cpp</code></a><ul>
<li><a href="#1-usage">1. Usage</a></li>
<li><a href="#2-output">2. Output</a></li>
</ul>
</li>
<li><a href="#g-maincpp--o-mainexe"><code>g++ Main.cpp -o Main.exe</code></a><ul>
<li><a href="#1-usage-1">1. Usage</a></li>
<li><a href="#2-output-1">2. Output</a></li>
</ul>
</li>
<li><a href="#g--e-maincpp--o-maini"><code>g++ -E Main.cpp -o Main.i</code></a><ul>
<li><a href="#1-usage-2">1. Usage</a></li>
<li><a href="#2-output-2">2. Output</a></li>
</ul>
</li>
<li><a href="#g--s-maini"><code>g++ -S Main.i</code></a><ul>
<li><a href="#1-usage-3">1. Usage</a></li>
<li><a href="#2-output-3">2. Output</a></li>
</ul>
</li>
<li><a href="#g--s-maincpp"><code>g++ -S Main.cpp</code></a><ul>
<li><a href="#1-usage-4">1. Usage</a></li>
<li><a href="#2-output-4">2. Output</a></li>
</ul>
</li>
<li><a href="#g--c-mains"><code>g++ -c Main.s</code></a><ul>
<li><a href="#1-usage-5">1. Usage</a></li>
<li><a href="#2-output-5">2. Output</a></li>
</ul>
</li>
<li><a href="#g--c-maincpp"><code>g++ -c Main.cpp</code></a><ul>
<li><a href="#1-usage-6">1. Usage</a></li>
<li><a href="#2-output-6">2. Output</a></li>
</ul>
</li>
<li><a href="#g-maino--o-mainexe"><code>g++ Main.o -o Main.exe</code></a><ul>
<li><a href="#1-usage-7">1. Usage</a></li>
<li><a href="#2-output-7">2. Output</a></li>
</ul>
</li>
<li><a href="#g--on-maincpp--o-mainexe"><code>g++ -On Main.cpp -o Main.exe</code></a><ul>
<li><a href="#1-usage-8">1. Usage</a></li>
<li><a href="#2-output-8">2. Output</a></li>
</ul>
</li>
<li><a href="#1g--dmacro_name1--dmacro_name2--maincpp--o-mainexe">1<code>g++ -DMACRO_NAME1 -DMACRO_NAME2 ... Main.cpp -o Main.exe</code></a><ul>
<li><a href="#1-usage-9">1. Usage</a></li>
<li><a href="#2-output-9">2. Output</a></li>
</ul>
</li>
<li><a href="#how-to-compile-multiple-cpp-files">How to Compile Multiple CPP Files</a></li>
<li><a href="#source-files-1">Source files</a></li>
<li><a href="#compile-all-files-in-one-command">Compile all files in one command</a><ul>
<li><a href="#1-code">1. Code</a></li>
<li><a href="#2-usage">2. Usage</a></li>
<li><a href="#3-output">3. Output</a></li>
<li><a href="#4-alternative-if-all-files-are-in-one-folder">4. Alternative: If All Files Are in One Folder</a></li>
</ul>
</li>
<li><a href="#compile-all-files-separately-and-then-link-them-together">Compile All Files Separately and Then Link Them Together</a><ul>
<li><a href="#1-code-1">1. Code</a></li>
<li><a href="#2-usage-1">2. Usage</a></li>
<li><a href="#3-output-1">3. Output</a></li>
</ul>
</li>
<li><a href="#how-to-compile-and-link-a-library">How to Compile and Link a Library</a></li>
<li><a href="#source-files-2">Source files</a></li>
<li><a href="#setup-paths-of-header-files">Setup Paths of Header Files</a><ul>
<li><a href="#1-code-2">1. Code</a></li>
</ul>
</li>
<li><a href="#how-to-link-multiple-static-libraries">How to Link Multiple Static Libraries</a><ul>
<li><a href="#1-code-3">1. Code</a></li>
</ul>
</li>
<li><a href="#how-to-create-a-static-library">How to Create a Static Library</a><ul>
<li><a href="#1-code-4">1. Code</a></li>
<li><a href="#2-usage-2">2. Usage</a></li>
<li><a href="#3-output-2">3. Output</a></li>
</ul>
</li>
<li><a href="#how-to-link-multiple-dynamic-libraries">How to Link Multiple Dynamic Libraries</a><ul>
<li><a href="#1-code-5">1. Code</a></li>
</ul>
</li>
<li><a href="#how-to-create-a-dynamic-library">How to Create a Dynamic Library</a><ul>
<li><a href="#1-code-6">1. Code</a></li>
<li><a href="#2-usage-3">2. Usage</a></li>
<li><a href="#3-output-3">3. Output</a></li>
</ul>
</li>
<li><a href="#how-to-create-and-link-a-static-library">How to Create and Link a Static Library</a><ul>
<li><a href="#1-code-7">1. Code</a></li>
<li><a href="#2--wl-bstatic">2. -Wl,-Bstatic</a></li>
<li><a href="#3--wl-bdynamic">3. -Wl,-Bdynamic</a></li>
<li><a href="#4-situation">4. Situation</a></li>
<li><a href="#5-usage">5. Usage</a></li>
<li><a href="#6-output">6. Output</a></li>
</ul>
</li>
<li><a href="#how-to-create-and-link-a-dynamic-library">How to Create and Link a Dynamic Library</a><ul>
<li><a href="#1-code-8">1. Code</a></li>
<li><a href="#2-situation">2. Situation</a></li>
<li><a href="#3-usage">3. Usage</a></li>
<li><a href="#4-output">4. Output</a></li>
<li><a href="#5-special-notes">5. Special Notes</a></li>
</ul>
</li>
</ul>
<!-- vim-markdown-toc -->

<h2 id="g-compiler-and-linker"><code>g++</code> Compiler and Linker</h2>
<h3 id="header-file-preprocess-statement">Header File ( Preprocess Statement )</h3>
<ol>
<li>The compiler will <strong>copy and paste them</strong> into the object CPP file.</li>
</ol>
<h3 id="cpp-file">CPP File</h3>
<ol>
<li>The compiler translates <strong>the CPP files into assembly code</strong> and <strong>then into machine code</strong>
   <strong>without</strong> performing any <strong>linking</strong> operations.</li>
<li>Typically, there is <strong>one OBJ file per CPP file</strong>, but <strong>sometimes multiple CPP files may result
   in a single OBJ file</strong>.</li>
<li>During the compilation phase, the compiler also optimizes your code.</li>
</ol>
<h3 id="obj-file-machine-code-file-obj-in-windows-o-in-linux">OBJ File ( Machine Code File, <code>.obj</code> in Windows, <code>.o</code> in Linux )</h3>
<ol>
<li><strong>All OBJ files</strong> will be <strong>combined into a single file</strong> by the linker.</li>
<li>The C++ <strong>linker</strong> can <strong>perform certain optimizations</strong>, although its primary role is focused on
   linking object files and libraries rather than optimizing code.</li>
</ol>
<h3 id="linking-static-linking-and-dynamic-linking">Linking ( Static Linking and Dynamic Linking )</h3>
<h4 id="libraries">Libraries</h4>
<ol>
<li>Static (<code>.lib</code> or <code>.a</code>) vs dynamic libraries (<code>.dll</code> or <code>.so</code>):</li>
<li>Linking with static libraries is <strong>faster</strong> than dynamic libraries because the C++ linker
     performs optimizations during static linking.</li>
<li>Import libraries (<code>xxxdll.lib</code> files):</li>
<li>These files <strong>contain references to functions and symbols</strong> defined in the <code>xxx.dll</code> files,
     facilitating linking at compile time.</li>
<li>This process ensures that the correct function signatures and addresses are utilized, allowing
     the linker to ascertain their locations at runtime.</li>
<li>Import libraries are <strong>specific to Windows</strong>, while <strong>Linux integrates this functionality
     directly into dynamic libraries</strong>.</li>
</ol>
<h4 id="static-linking">Static Linking</h4>
<h5 id="explanation">Explanation</h5>
<ol>
<li>Static linking refers to the process of combining all necessary library code into the final
   executable <strong>at compile time</strong>.</li>
<li>This results in a standalone binary that does <strong>not rely on external libraries at runtime</strong>.</li>
</ol>
<h5 id="characteristics">Characteristics</h5>
<ol>
<li>Self-contained:</li>
<li>The executable includes all the library code it needs.</li>
<li>No runtime dependencies:</li>
<li>Once compiled, it doesn't require the presence of shared libraries on the target system.</li>
<li>Larger executable size:</li>
<li>The resulting binary is typically larger due to the inclusion of library code.</li>
<li>No versioning issues:</li>
<li>The code is fixed at compile time, reducing concerns about library version compatibility.</li>
</ol>
<h5 id="how-it-works">How It Works</h5>
<ol>
<li>Compilation:</li>
<li>The developer compiles the source code and links it against static library files (usually
     <code>.lib</code> in windows, <code>.a</code> files in linux).</li>
<li>Linking:</li>
<li>The linker combines the object files with the static library code, resolving all symbol
     references.</li>
<li>Executable creation:</li>
<li>The final output is a single executable file that includes all necessary code.</li>
</ol>
<h4 id="dynamic-linking-implicit-linking-and-explicit-linking">Dynamic Linking ( Implicit Linking and Explicit Linking )</h4>
<h5 id="explanation_1">Explanation</h5>
<ol>
<li>Dynamic linking allows a program to <strong>link to libraries at runtime</strong> rather than at compile time.</li>
<li>This can <strong>improve modularity</strong> and <strong>reduce executable size</strong>.</li>
</ol>
<h5 id="characteristics_1">Characteristics</h5>
<ol>
<li>Reduced executable size:</li>
<li>Only references to shared libraries are included, keeping the executable smaller.</li>
<li>Shared code:</li>
<li>Multiple programs can share the same library code in memory, saving resources.</li>
<li>Version flexibility:</li>
<li>Libraries can be updated independently of the applications that use them, allowing for easier
     updates and bug fixes.</li>
<li>Runtime dependencies:</li>
<li>The executable requires the appropriate shared libraries to be present at runtime.</li>
</ol>
<h5 id="implicit-linking-load-time-dynamic-linking-default-dynamic-linking">Implicit Linking ( Load-time Dynamic Linking ) ( Default Dynamic Linking )</h5>
<h6 id="explanation_2">Explanation</h6>
<ol>
<li>Implicit linking, also referred to as <strong>load-time dynamic linking</strong>, is <strong>a process</strong> whereby an
   executable is linked to shared libraries <strong>at compile time</strong>.</li>
<li>This method allows the program to <strong>utilize functions and variables</strong> defined in those libraries
   <strong>without incorporating their code directly</strong> into the executable.</li>
</ol>
<h6 id="characteristics_2">Characteristics</h6>
<ol>
<li>Automatic resolution:</li>
<li>The operating system loads the DLLs specified in the import library when the application
     starts.</li>
<li>Simplified development:</li>
<li>Developers include the DLL's import library (<code>.lib</code> file) during compilation, simplifying the
     linking process.</li>
<li>Single entry point:</li>
<li>The operating system resolves function calls from the DLLs automatically, allowing the
     application to use them seamlessly.</li>
<li>Version dependency:</li>
<li>If the required version of a DLL is missing or incompatible, the application may fail to start.</li>
</ol>
<h6 id="how-it-works-in-windows">How It Works in <strong>Windows</strong></h6>
<ol>
<li>Linking with <strong>import libraries</strong>:</li>
<li>When compiling the application, the developer links against the DLL's import library, which
     provides necessary metadata for the linker.</li>
<li>Creating the executable:</li>
<li>The resulting executable contains references to the required DLLs but does not embed their
     code, reducing the executable's size.</li>
<li>Loading the DLLs:</li>
<li>Upon execution, the Windows loader reads the executable's headers to identify the required DLLs
     and loads them into memory.</li>
<li>Resolving symbols:</li>
<li>The loader resolves function calls to the appropriate addresses in the loaded DLLs, ensuring
     that the application can access the necessary functions and variables.</li>
<li>Execution:</li>
<li>Control is then passed to the application's entry point, allowing it to call functions from the
     linked DLLs, enabling shared access to the library's functionality.</li>
</ol>
<h6 id="how-it-works-in-linux">How It Works in <strong>Linux</strong></h6>
<ol>
<li>Linking with <strong>shared libraries</strong>:</li>
<li>When compiling the application, the developer specifies shared libraries using flags (e.g.,
     <code>-l</code> for linking) in the compilation command, allowing the linker to record these dependencies
     in the executable.</li>
<li>Creating the executable:</li>
<li>The resulting executable contains references to the shared libraries but does not include their
     code.</li>
<li>This reduces the executable's size and enables shared access to the libraries.</li>
<li>Loading the libraries:</li>
<li>Upon execution, the dynamic linker/loader (typically ld.so or ld-linux.so) reads the
     executable's metadata to identify the required shared libraries and loads them into memory.</li>
<li>Resolving symbols:</li>
<li>The linker resolves the function calls and variable references to the appropriate addresses in
     the loaded shared libraries, allowing the executable to use their functionality.</li>
<li>Execution:</li>
<li>Control is passed to the application's entry point, enabling it to call functions and access
     data from the linked shared libraries.</li>
</ol>
<h5 id="explicit-linking-run-time-dynamic-linking">Explicit Linking ( Run-time Dynamic Linking )</h5>
<h6 id="explanation_3">Explanation</h6>
<ol>
<li>Explicit linking, also known as <strong>run-time dynamic linking</strong>, gives the programmer more control,
    allowing applications to <strong>dynamically load shared libraries</strong> and <strong>access their functions</strong>
    during execution, rather than linking them at compile time.</li>
<li>The programmers will <strong>use some specific functions to manage the dynamic linking explicitly</strong>.</li>
</ol>
<h6 id="characteristics_3">Characteristics</h6>
<ol>
<li>Dynamic control:</li>
<li>Developers can load libraries based on runtime conditions, providing flexibility.</li>
<li>Lazy loading:</li>
<li>Libraries can be loaded only when needed, which can improve startup performance.</li>
<li>Error handling:</li>
<li>Applications can handle scenarios where a library fails to load or is not found.</li>
</ol>
<h6 id="how-it-works-in-windows_1">How It Works in <strong>Windows</strong></h6>
<ol>
<li>Load the DLL:</li>
<li>Use <code>LoadLibrary( "library.dll" )</code> to load the desired DLL into the process's address space.</li>
<li>Get function pointers:</li>
<li>Use <code>GetProcAddress( handle, "function_name" )</code> to obtain pointers to the functions within the
     loaded DLL.</li>
<li>Use the functions:</li>
<li>Call the functions using the retrieved pointers.</li>
<li>Unload the DLL:</li>
<li>Optionally, use <code>FreeLibrary( handle )</code> to unload the DLL when it’s no longer needed.</li>
</ol>
<h6 id="how-it-works-in-linux_1">How It Works in <strong>Linux</strong></h6>
<ol>
<li>Load the library:</li>
<li>Use <code>dlopen( "library.so", RTLD_LAZY )</code> to load the desired shared library into the process's
     address space.</li>
<li>Get function pointers:</li>
<li>Use <code>dlsym( handle, "function_name" )</code> to obtain pointers to the functions within the loaded
     library.</li>
<li>Use the functions:</li>
<li>Call the functions using the retrieved pointers.</li>
<li>Unload the library:</li>
<li>Optionally, use <code>dlclose( handle )</code> to unload the library when it’s no longer needed.</li>
</ol>
<h2 id="differences-between-gcc-and-g">Differences Between <code>gcc</code> and <code>g++</code></h2>
<h3 id="language">Language</h3>
<h4 id="1-gcc">1. <code>gcc</code></h4>
<ol>
<li>Primarily the GNU C Compiler, but it can also compile C++ files if passed the appropriate flags.</li>
<li>It defaults to treating source files as C code unless you specify C++.</li>
</ol>
<h4 id="2-g">2. <code>g++</code></h4>
<ol>
<li>A specialized driver for C++ compilation.</li>
<li>It automatically links the C++ standard library and handles C++-specific extensions.</li>
</ol>
<h3 id="linking">Linking</h3>
<h4 id="1-gcc_1">1. <code>gcc</code></h4>
<ol>
<li>When compiling C++ files with <code>gcc</code>, you must manually link the C++ standard library (e.g.,
   -lstdc++).</li>
</ol>
<h4 id="2-g_1">2. <code>g++</code></h4>
<ol>
<li>Automatically links the C++ standard library without needing extra flags.</li>
</ol>
<h3 id="header-file-handling">Header File Handling</h3>
<h4 id="1-gcc_2">1. <code>gcc</code></h4>
<ol>
<li>When used with C, <code>gcc</code> processes headers as C-specific (using <code>.h</code> headers for the most part).</li>
</ol>
<h4 id="2-g_2">2. <code>g++</code></h4>
<ol>
<li>Treats headers as C++ files and supports C++ header files (like <code>&lt;iostream&gt;</code> instead of
   <code>&lt;stdio.h&gt;</code>).</li>
</ol>
<h2 id="how-to-compile-one-cpp-file">How to Compile One CPP File</h2>
<h3 id="source-files">Source files</h3>
<ol>
<li>Main.cpp</li>
</ol>
<h3 id="g-maincpp"><code>g++ Main.cpp</code></h3>
<h4 id="1-usage">1. Usage</h4>
<ol>
<li>Preprocess, compile, and link Main.cpp to generate the executable file a.out.</li>
</ol>
<h4 id="2-output">2. Output</h4>
<ol>
<li>a.out</li>
</ol>
<h3 id="g-maincpp-o-mainexe"><code>g++ Main.cpp -o Main.exe</code></h3>
<h4 id="1-usage_1">1. Usage</h4>
<ol>
<li>Preprocess, compile, and link Main.cpp to generate an executable file.</li>
<li>The option <code>-o</code> specifies the name of the executable file.</li>
</ol>
<h4 id="2-output_1">2. Output</h4>
<ol>
<li>Main.exe</li>
</ol>
<h3 id="g-e-maincpp-o-maini"><code>g++ -E Main.cpp -o Main.i</code></h3>
<h4 id="1-usage_2">1. Usage</h4>
<ol>
<li>Preprocess Main.cpp to generate a preprocessed file.</li>
<li>The option <code>-o</code> specifies the name of the preprocessed file.</li>
</ol>
<h4 id="2-output_2">2. Output</h4>
<ol>
<li>Main.i</li>
</ol>
<h3 id="g-s-maini"><code>g++ -S Main.i</code></h3>
<h4 id="1-usage_3">1. Usage</h4>
<ol>
<li>Compile the preprocessed file to generate an assembly file.</li>
</ol>
<h4 id="2-output_3">2. Output</h4>
<ol>
<li>Main.s</li>
</ol>
<h3 id="g-s-maincpp"><code>g++ -S Main.cpp</code></h3>
<h4 id="1-usage_4">1. Usage</h4>
<ol>
<li>Preprocess and compile the source file to generate an assembly file.</li>
</ol>
<h4 id="2-output_4">2. Output</h4>
<ol>
<li>Main.s</li>
</ol>
<h3 id="g-c-mains"><code>g++ -c Main.s</code></h3>
<h4 id="1-usage_5">1. Usage</h4>
<ol>
<li>Translate the assembly file into an object file.</li>
</ol>
<h4 id="2-output_5">2. Output</h4>
<ol>
<li>Main.o</li>
</ol>
<h3 id="g-c-maincpp"><code>g++ -c Main.cpp</code></h3>
<h4 id="1-usage_6">1. Usage</h4>
<ol>
<li>Preprocess and compile the source file to generate an object file.</li>
</ol>
<h4 id="2-output_6">2. Output</h4>
<ol>
<li>Main.o</li>
</ol>
<h3 id="g-maino-o-mainexe"><code>g++ Main.o -o Main.exe</code></h3>
<h4 id="1-usage_7">1. Usage</h4>
<ol>
<li>Link the object file to generate an executable file.</li>
</ol>
<h4 id="2-output_7">2. Output</h4>
<ol>
<li>Main.exe</li>
</ol>
<h3 id="g-on-maincpp-o-mainexe"><code>g++ -On Main.cpp -o Main.exe</code></h3>
<h4 id="1-usage_8">1. Usage</h4>
<ol>
<li>Compile Main.cpp with optimization level <code>n</code> (where <code>0 ≤ n ≤ 3</code>). Higher values of n result in
   longer compile times and more aggressive optimizations.</li>
</ol>
<h4 id="2-output_8">2. Output</h4>
<ol>
<li>Main.exe</li>
</ol>
<h3 id="1g-dmacro_name1-dmacro_name2-maincpp-o-mainexe">1<code>g++ -DMACRO_NAME1 -DMACRO_NAME2 ... Main.cpp -o Main.exe</code></h3>
<h4 id="1-usage_9">1. Usage</h4>
<ol>
<li>Define a series of <code>MACRO</code> for <code>Main.cpp</code>.</li>
<li>Used to select which parts of the code should be compiled.</li>
</ol>
<h4 id="2-output_9">2. Output</h4>
<ol>
<li>Main.exe</li>
</ol>
<h2 id="how-to-compile-multiple-cpp-files">How to Compile Multiple CPP Files</h2>
<h3 id="source-files_1">Source files</h3>
<ol>
<li>Main.cpp</li>
<li>Fun.cpp</li>
</ol>
<h3 id="compile-all-files-in-one-command">Compile all files in one command</h3>
<h4 id="1-code">1. Code</h4>
<pre><code class="language-sh">g++ Main.cpp Fun.cpp -o Main.exe
</code></pre>
<h4 id="2-usage">2. Usage</h4>
<ol>
<li>Compile Main.cpp and Fun.cpp into Main.o and Fun.o separately.</li>
<li>Link them to generate an executable file.</li>
</ol>
<h4 id="3-output">3. Output</h4>
<ol>
<li>Main.o</li>
<li>Fun.o</li>
<li>Main.exe</li>
</ol>
<h4 id="4-alternative-if-all-files-are-in-one-folder">4. Alternative: If All Files Are in One Folder</h4>
<pre><code class="language-sh">g++ *.cpp -o Main.exe
</code></pre>
<h3 id="compile-all-files-separately-and-then-link-them-together">Compile All Files Separately and Then Link Them Together</h3>
<h4 id="1-code_1">1. Code</h4>
<pre><code class="language-sh">g++ -c Main.cpp
g++ -c Fun.cpp
g++ -o Main.o Fun.o -o Main.exe
</code></pre>
<h4 id="2-usage_1">2. Usage</h4>
<ol>
<li>Compile Main.cpp and Fun.cpp into Main.o and Fun.o with separate commands.</li>
<li>Link them to generate an executable file.</li>
</ol>
<h4 id="3-output_1">3. Output</h4>
<ol>
<li>Main.o</li>
<li>Fun.o</li>
<li>Main.exe</li>
</ol>
<h2 id="how-to-compile-and-link-a-library">How to Compile and Link a Library</h2>
<h3 id="source-files_2">Source files</h3>
<ol>
<li>Main.cpp</li>
<li>Fun.cpp</li>
</ol>
<h3 id="setup-paths-of-header-files">Setup Paths of Header Files</h3>
<h4 id="1-code_2">1. Code</h4>
<pre><code class="language-sh">g++ Main.cpp Fun.cpp -o Main.exe -I/the/first/path/of/header/files \
    -I/the/second/path/of/header/files ...
</code></pre>
<h3 id="how-to-link-multiple-static-libraries">How to Link Multiple Static Libraries</h3>
<h4 id="1-code_3">1. Code</h4>
<pre><code class="language-sh">g++ Main.cpp -L/the/first/path/of/static/libraries \
    -L/the/second/path/of/static/libraries ... \
    -Wl,-Bstatic -lxxx -lyyy ... -Wl,-Bdynamic -o Main.exe
</code></pre>
<h3 id="how-to-create-a-static-library">How to Create a Static Library</h3>
<h4 id="1-code_4">1. Code</h4>
<pre><code class="language-sh">g++ -c Fun.cpp
ar rcs libFun.a Fun.o
g++ Main.cpp -L. -lFun -o Main.exe
</code></pre>
<h4 id="2-usage_2">2. Usage</h4>
<ol>
<li>Use <code>g++</code> to compile Fun.cpp into an object file.</li>
<li>Use <code>ar</code> to create a static library from the object file.</li>
<li>Compile Main.cpp and link it with libFun.a to generate an executable file.</li>
</ol>
<h4 id="3-output_2">3. Output</h4>
<ol>
<li>Fun.o</li>
<li>libFun.a</li>
<li>Main.exe</li>
</ol>
<h3 id="how-to-link-multiple-dynamic-libraries">How to Link Multiple Dynamic Libraries</h3>
<h4 id="1-code_5">1. Code</h4>
<pre><code class="language-sh">g++ Main.cpp -L/the/first/path/of/dynamic/libraries -L/the/second/path/of/dynamic/libraries ... \
    -lxxx -lyyy ... -o Main.exe
</code></pre>
<h3 id="how-to-create-a-dynamic-library">How to Create a Dynamic Library</h3>
<h4 id="1-code_6">1. Code</h4>
<pre><code class="language-sh">g++ -c -fPIC Fun.cpp -o Fun.o
g++ -shared -o libFun.so Fun.o
g++ Main.cpp -L. -lFun -o Main.exe
</code></pre>
<h4 id="2-usage_3">2. Usage</h4>
<ol>
<li>Use <code>g++ -c -fPIC</code> to compile Fun.cpp into an object file.</li>
<li>Use <code>g++ -shared</code> to create a dynamic library from the object file.</li>
<li>Compile Main.cpp and link it with libFun.so to generate an executable file.</li>
</ol>
<h4 id="3-output_3">3. Output</h4>
<ol>
<li>Fun.o</li>
<li>libFun.so</li>
<li>Main.exe</li>
</ol>
<h3 id="how-to-create-and-link-a-static-library">How to Create and Link a Static Library</h3>
<h4 id="1-code_7">1. Code</h4>
<pre><code class="language-sh">g++ -c Fun.cpp
ar rcs libFun.a Fun.o
g++ -c -fPIC Fun.cpp -o Fun.o
g++ -shared -o libFun.so Fun.o
g++ Main.cpp -L. -Wl,-Bstatic -lFun -Wl,-Bdynamic -o Main.exe
</code></pre>
<h4 id="2-wl-bstatic">2. -Wl,-Bstatic</h4>
<ol>
<li>Instructs the linker (<code>ld</code>) to search for static libraries (<code>.a</code> files).</li>
</ol>
<h4 id="3-wl-bdynamic">3. -Wl,-Bdynamic</h4>
<ol>
<li>Reverts the linker back to dynamic libraries, in case you are linking other dynamic libraries
   afterward.</li>
</ol>
<h4 id="4-situation">4. Situation</h4>
<ol>
<li>A static library has the same name as a dynamic library in the same folder.</li>
</ol>
<h4 id="5-usage">5. Usage</h4>
<ol>
<li>Create both a static library and a dynamic library. They have the same name. Link the static
   library explicitly.</li>
</ol>
<h4 id="6-output">6. Output</h4>
<ol>
<li>Fun.o</li>
<li>libFun.a</li>
<li>libFun.so</li>
<li>Main.exe</li>
</ol>
<h3 id="how-to-create-and-link-a-dynamic-library">How to Create and Link a Dynamic Library</h3>
<h4 id="1-code_8">1. Code</h4>
<pre><code class="language-sh">g++ -c Fun.cpp
ar rcs libFun.a Fun.o
g++ -c -fPIC Fun.cpp -o Fun.o
g++ -shared -o libFun.so Fun.o
g++ Main.cpp -L. -lFun -o Main.exe
</code></pre>
<h4 id="2-situation">2. Situation</h4>
<ol>
<li>A dynamic library has the same name as a static library in the same folder.</li>
</ol>
<h4 id="3-usage">3. Usage</h4>
<ol>
<li>Create both a static library and a dynamic library.</li>
<li>They have the same name.</li>
<li>Link the dynamic library explicitly.</li>
</ol>
<h4 id="4-output">4. Output</h4>
<ol>
<li>Fun.o</li>
<li>libFun.a</li>
<li>libFun.so</li>
<li>Main.exe</li>
</ol>
<h4 id="5-special-notes">5. Special Notes</h4>
<ol>
<li><code>g++</code> links a dynamic library by default.</li>
</ol></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
